# 선택한 디자인 패턴에 대한 설명

## Abstract Factory
각기 다른 스프라이트(이미지)와 행동 방식을 가진 4종류의 유령이 있습니다.

* **Blinky** 빨간색 유령
* **Pinky** 분홍색 유령
* **Inky** 파란색 유령
*  **Clyde** 노란색 유령

4종류의 "구상(concrete)" 유령들은 모두 "Ghost"라는 동일한 추상 클래스를 구현합니다. 이들을 인스턴스화하기 위해 Abstract Factory 패턴이 사용됩니다. 여러 "구상 팩토리(Concrete Factories)"가 각각의 구상 유령 생성자를 호출합니다.

## State
유령들은 각기 다른 상태를 가지며, 특정 조건에 따라 한 상태에서 다른 상태로 전환될 수 있어야 합니다 (GhostState.png 다이어그램 참조). 상태에 따라 목표 타일이 달라지거나 스프라이트가 변경될 수 있습니다. 이런 경우 State 패턴이 이상적입니다. 단일 책임 원칙을 준수하며, 각기 다른 상태들은 "GhostState"라는 동일한 추상 클래스를 확장하는 전용 클래스에서 관리됩니다.

* **HouseMode** : 게임 시작 시 유령들이 집에 있는 상태입니다. 이 상태에서 유령들은 집을 빠져나가려 합니다.
* **ChaseMode** : 이 상태에서 유령들은 팩맨을 추격하려 하며, 각 유령은 자신만의 전략을 가집니다 (Strategy 패턴 참조). 타이머에 따라 유령들은 ChaseMode와 ScatterMode를 번갈아 가며 전환합니다.
* **ScatterMode** : 이 상태에서 유령들은 팩맨 추격을 멈추고, 대신 각자의 구석을 향해 이동합니다. 각 유령은 자신에게 할당된 고유한 구석을 목표로 합니다 (Strategy 패턴 참조). 타이머에 따라 유령들은 ChaseMode와 ScatterMode를 번갈아 가며 전환합니다.
* **FrightenedMode** : 팩맨이 슈퍼 팩검(SuperPacGum)을 먹은 후 유령들의 상태입니다. 이 상태에서 유령들의 방향 선택은 무작위가 되며, 팩맨에게 "먹힐" 수 있습니다. 일정 시간이 지나면 유령들은 ChaseMode나 ScatterMode로 돌아갑니다.
* **EatenMode** : 팩맨에게 "먹힌" 후의 유령 상태입니다. 이 상태의 유령들은 자신의 집으로 돌아가려 합니다. 이 상태에서는 팩맨이 유령에게 닿아도 안전합니다.

## Strategy
4종류의 유령은 "ChaseMode"에서 팩맨을 추격하는 각자 고유의 전략(목표 타일이 다름)을 가지고 있으며, "ScatterMode"에서도 각자 고유의 구석을 목표로 합니다. 따라서 이러한 행동의 변형을 설명하기 위해 Strategy 패턴을 사용하며, "GhostStrategy"라는 동일한 추상 클래스를 확장하는 여러 클래스로 구현됩니다.

* **BlinkyStrategy** : ChaseMode에서 Blinky는 팩맨의 위치를 직접 목표로 삼고, ScatterMode에서는 오른쪽 상단 구석을 목표로 합니다.
* **PinkyStrategy** : ChaseMode에서 Pinky는 팩맨의 위치보다 2칸 앞을 목표로 삼고, ScatterMode에서는 왼쪽 상단 구석을 목표로 합니다.
* **InkyStrategy** :  간단히 말해, ChaseMode에서 Inky는 팩맨을 포위하기 위해 Blinky와 팩맨의 위치를 기반으로 한 타일을 목표로 합니다. ScatterMode에서는 오른쪽 하단 구석을 목표로 합니다.
* **ClydeStrategy** : ChaseMode에서 Clyde는 자신이 팩맨으로부터 8칸 이상 떨어져 있으면 팩맨의 위치를 직접 목표로 삼고, 그렇지 않으면 ScatterMode와 동일한 타일(왼쪽 하단 구석)을 목표로 합니다. ScatterMode에서는 왼쪽 하단 구석을 목표로 합니다.

## Observer
* 팩맨이 팩검(PacGum), 슈퍼 팩검(SuperPacGum) 또는 유령과 접촉할 때, 다른 클래스들에 이를 알려 특정 동작을 유발해야 합니다. 이는 Observer 패턴을 통해 관리됩니다.
* 팩맨이 팩검을 먹으면, "UIPanel" 클래스가 관리하는 점수 표시가 10 증가하고, 모든 엔티티를 관리하는 "Game" 클래스는 이 팩검을 파괴된 것으로 간주해야 합니다.
* 팩맨이 슈퍼 팩검을 먹으면, "UIPanel" 클래스가 관리하는 점수 표시가 100 증가하고, "Game" 클래스는 이 슈퍼 팩검을 파괴된 것으로 간주하며 유령들을 "FrightenedMode" 상태로 전환시켜야 합니다.
* 팩맨이 유령과 접촉했을 때, 만약 유령이 "FrightenedMode"나 "EatenMode" 상태가 아니라면, "Game" 클래스는 게임 오버를 선언합니다! 만약 유령이 "FrightenedMode" 상태였다면, 해당 유령은 "EatenMode" 상태로 전환되고 점수 표시가 500 증가합니다.

***Notes*** : 이러한 패턴들 덕분에, 예를 들어 고유한 행동 방식을 가진 다른 종류의 유령을 추가하거나, 기존 컨텍스트를 수정하지 않고도 유령들에게 다른 특별한 상태를 추가하기가 쉬워집니다. 하지만 다시 생각해 보면, "Game" 클래스의 책임이 너무 많은 것일 수도 있습니다. 예를 들어, 유령들 자체가 "Observer" 인터페이스를 직접 구현하도록 할 수도 있습니다.